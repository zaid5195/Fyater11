<!DOCTYPE html>
<html lang="ar" dir="rtl" id="htmlRoot">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VATICA | Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙÙˆØ§ØªÙŠØ± Ø¶Ø±ÙŠØ¨ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¬Ø§Ù†ÙŠ - Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ù‡ÙŠØ¦Ø© Ø§Ù„Ø²ÙƒØ§Ø©</title>
    <meta name="description" content="Ø£Ù†Ø´Ø¦ ÙÙˆØ§ØªÙŠØ± Ø¶Ø±ÙŠØ¨ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¬Ø§Ù†Ø§Ù‹ Ù…Ø¹ VATICA. Ø£Ø¯Ø§Ø© Ø³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ù„Ù…Ø¤Ø³Ø³Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© ÙˆØ§Ù„Ù…ØªÙˆØ³Ø·Ø©ØŒ ØªØ¯Ø¹Ù… Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©ØŒ QR CodeØŒ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨ØµÙŠØºØ© PDF.">
    <meta name="keywords" content="ÙÙˆØ§ØªÙŠØ± Ø¶Ø±ÙŠØ¨ÙŠØ©ØŒ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙÙˆØ§ØªÙŠØ± Ù…Ø¬Ø§Ù†ÙŠØŒ ÙØ§ØªÙˆØ±Ø© PDFØŒ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©ØŒ VATICAØŒ Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ±ØŒ ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©">

    <!-- ÙƒÙˆØ¯ Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2161407887612919" crossorigin="anonymous"></script>
    <script defer src="/_vercel/insights/script.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        :root { 
            --v-blue: #0f172a; 
            --v-primary: #2563eb; 
            --v-text: #1e293b; 
            --bg-light: #f1f5f9; 
            --bg-card: white;
            --bg-control: white;
            --border-color: #e2e8f0;
            --input-bg: white;
            --shadow-color: rgba(0,0,0,0.05);
        }
        .dark-mode {
            --v-blue: #1e293b;
            --v-primary: #60a5fa;
            --v-text: #f8fafc;
            --bg-light: #0f172a;
            --bg-card: #1e293b;
            --bg-control: #1e293b;
            --border-color: #334155;
            --input-bg: #334155;
            --shadow-color: rgba(255,255,255,0.1);
        }

        * { box-sizing: border-box; font-family: 'Tajawal', sans-serif; }
        body { margin: 0; background-color: var(--bg-light); color: var(--v-text); transition: background-color 0.3s, color 0.3s; line-height: 1.6; }
        
        .assistant-bar { background: #e0e7ff; color: #3730a3; padding: 10px; font-size: 13px; text-align: center; border-bottom: 1px solid #c7d2fe; }
        header.vatica-nav { background: var(--v-blue); color: white; padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        .vatica-logo { font-size: 26px; font-weight: 700; text-decoration: none; color: white; }
        .vatica-logo span { color: var(--v-primary); }

        .container { display: flex; max-width: 1400px; margin: 20px auto; padding: 0 20px; gap: 30px; }
        aside.controls { width: 320px; background: var(--bg-control); padding: 25px; border-radius: 16px; box-shadow: 0 4px 20px var(--shadow-color); height: fit-content; position: sticky; top: 90px; transition: background-color 0.3s; }
        main.editor { flex: 1; min-width: 0; }

        .card { background: var(--bg-card); padding: 50px; min-height: 297mm; position: relative; box-shadow: 0 10px 40px var(--shadow-color); border-top: 15px solid var(--v-primary); transition: background-color 0.3s; }
        .template-classic { border: 2px solid #334155; border-top: 15px solid #334155; }
        .template-classic th { background: #334155; color: white; }

        .invoice-head { 
            display: grid; 
            grid-template-columns: 160px 1fr 80px;
            align-items: center; 
            margin-bottom: 40px; 
            gap: 20px; 
            border-bottom: 1px solid var(--border-color); 
            padding-bottom: 20px; 
        }
        .logo-section { grid-column: 1 / 2; position: relative; }
        .logo-box { 
            width: 150px; 
            height: 100px; 
            border: 2px dashed var(--border-color); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            position: relative; 
            background: var(--input-bg); 
            overflow: hidden; 
        }
        #printLogo { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: none; z-index: 1; }
        #printLogo img { max-width: 100%; max-height: 100%; object-fit: contain; }
        .logo-box input { position: absolute; opacity: 0; width: 100%; height: 100%; cursor: pointer; z-index: 2; }
        .company-name-area { grid-column: 2 / 3; text-align: center; }
        .company-field { font-size: 24px; font-weight: 700; border: none; outline: none; background: var(--input-bg); color: var(--v-text); padding: 15px; border-radius: 8px; width: 100%; transition: background-color 0.3s, color 0.3s; }
        #qrcode { grid-column: 3 / 4; }

        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; background: var(--bg-card); padding: 25px; border-radius: 12px; border: 1px solid var(--border-color); }
        .field-group { display: flex; flex-direction: column; gap: 6px; }
        .field-group label { font-size: 13px; font-weight: 700; color: var(--v-text); }
        .field-group input { padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; outline: none; background: var(--input-bg); color: var(--v-text); font-size: 14px; transition: background-color 0.3s, color 0.3s; }

        .v-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .v-table th { padding: 12px; background: var(--bg-light); border-bottom: 2px solid var(--border-color); text-align: inherit; font-size: 14px; }
        .v-table td { padding: 12px; border-bottom: 1px solid var(--border-color); }
        .v-table input { border: none; outline: none; width: 100%; background: transparent; color: var(--v-text); }

        .sig-container { margin-top: 30px; display: flex; flex-direction: column; align-items: flex-end; }
        canvas#sig-canvas { border: 1px dashed var(--border-color); background: var(--input-bg); cursor: crosshair; touch-action: none; }

        .btn-action { width: 100%; padding: 14px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 15px; }
        .btn-download { background: var(--v-primary); color: white; }
        .btn-whatsapp { background: #22c55e; color: white; }
        .tpl-btn { flex: 1; padding: 8px; border: 1px solid var(--border-color); background: var(--bg-card); color: var(--v-text); border-radius: 6px; cursor: pointer; font-size: 11px; transition: background-color 0.3s, color 0.3s; }
        .tpl-btn.active { background: var(--v-primary); color: white; border-color: var(--v-primary); }

        .seo-content { margin-top: 40px; background: var(--bg-card); padding: 30px; border-radius: 16px; border: 1px solid var(--border-color); transition: background-color 0.3s; }
        .seo-content h2 { color: var(--v-primary); font-size: 22px; margin-bottom: 15px; }

        .blog-section { margin-top: 40px; background: var(--bg-card); padding: 30px; border-radius: 16px; border: 1px solid var(--border-color); transition: background-color 0.3s; }
        .blog-section h2 { color: var(--v-blue); font-size: 24px; margin-bottom: 20px; border-bottom: 2px solid var(--v-primary); padding-bottom: 10px; }
        .blog-posts { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .post-card { border: 1px solid var(--border-color); background: var(--input-bg); border-radius: 12px; padding: 20px; transition: box-shadow 0.3s, transform 0.2s; }
        .post-card:hover { box-shadow: 0 8px 20px var(--shadow-color); transform: translateY(-5px); }
        .post-card h3 { margin-top: 0; font-size: 18px; color: var(--v-primary); margin-bottom: 10px; }
        .post-card p { font-size: 14px; color: var(--v-text); margin-bottom: 15px; }
        .post-card a { display: inline-block; color: var(--v-primary); text-decoration: none; font-weight: bold; font-size: 13px; }

        footer { background: var(--v-blue); color: #94a3b8; padding: 40px; text-align: center; margin-top: 50px; }
        .footer-links { margin-bottom: 15px; }
        .footer-links a { color: white; text-decoration: none; margin: 0 10px; cursor: pointer; font-size: 14px; }

        .dark-mode-toggle { background: none; border: none; color: white; cursor: pointer; font-size: 18px; margin-left: 15px; padding: 5px; }

        .switch { position: relative; display: inline-block; width: 40px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 24px; }
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--v-primary); }
        input:checked + .slider:before { transform: translateX(16px); }
        .vat-control { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 10px 0; border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color); }

        /* Modal Fixes */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .modal-content { background-color: var(--bg-card); padding: 35px; border-radius: 20px; width: 90%; max-width: 650px; max-height: 85vh; overflow-y: auto; box-shadow: 0 25px 60px rgba(0,0,0,0.4); position: relative; color: var(--v-text); }
        .modal-content h2 { margin-top: 0; color: var(--v-primary); border-bottom: 2px solid var(--v-primary); padding-bottom: 12px; margin-bottom: 20px; font-size: 24px; }
        .modal-content p { margin-bottom: 15px; font-size: 15px; line-height: 1.8; }
        .modal-content ul { padding-right: 20px; margin-bottom: 15px; }
        .modal-content li { margin-bottom: 8px; }

        @media (max-width: 850px) { 
            .container { flex-direction: column; } 
            aside.controls { width: 100%; position: relative; top: 0; } 
            .info-grid { grid-template-columns: 1fr; } 
            .card { padding: 20px; min-height: auto; }
            .invoice-head { grid-template-columns: 1fr 1fr; grid-template-rows: auto auto; }
            .logo-section { grid-column: 1 / 2; grid-row: 1 / 2; }
            #qrcode { grid-column: 2 / 3; grid-row: 1 / 2; justify-self: end; }
            .company-name-area { grid-column: 1 / 3; grid-row: 2 / 3; margin-top: 20px; }
        }

        @media (max-width: 480px) {
            header.vatica-nav { padding: 15px 10px; }
            .vatica-logo { font-size: 22px; }
            .vatica-nav nav { gap: 8px !important; }
            .vatica-nav nav a { margin: 0 2px; font-size: 11px !important; }
            .invoice-head { grid-template-columns: 1fr; grid-template-rows: auto auto auto; justify-items: center; }
            .logo-section { grid-column: 1 / 2; grid-row: 1 / 2; }
            #qrcode { grid-column: 1 / 2; grid-row: 2 / 3; margin-top: 20px; }
            .company-name-area { grid-column: 1 / 2; grid-row: 3 / 4; margin-top: 20px; }
        }

        @media print { 
            .no-print, header, footer, aside, .assistant-bar, .seo-content, .blog-section, .modal { display: none !important; } 
            .card { box-shadow: none; border: none; width: 100%; padding: 0; margin: 0; min-height: auto; } 
            .invoice-head { border-bottom: none; padding-bottom: 0; }
        }
    </style>
</head>
<body id="body">

    <div class="assistant-bar no-print" id="assistantBar">
        <span id="txt_assistant">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ VATICAØŒ Ù„Ù†Ø¨Ø¯Ø£ Ø¨ØµÙ†Ø¹ Ù‚ØµØ© Ù†Ø¬Ø§Ø­ Ø¬Ø¯ÙŠØ¯Ø©! âœ¨</span>
    </div>

    <header class="vatica-nav no-print">
        <a href="/" class="vatica-logo">VATICA<span>.io</span></a>
        <nav style="display:flex; align-items:center; gap:15px;">
            <a onclick="showModal('about')" id="txt_nav_about" style="color:white; cursor:pointer; font-size:12px;">Ù…Ù† Ù†Ø­Ù†</a>
            <a onclick="showModal('privacy')" id="txt_nav_privacy" style="color:white; cursor:pointer; font-size:12px;">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
            <button onclick="toggleLanguage()" id="langBtn" style="background:none; border:1px solid white; color:white; padding:5px 15px; border-radius:20px; cursor:pointer;">English</button>
            <button class="dark-mode-toggle" onclick="toggleDarkMode()">ğŸŒ™</button>
        </nav>
    </header>

    <div class="container">
        <aside class="controls no-print">
            <h3 id="txt_control">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
            
            <label style="font-size: 11px; font-weight: bold;" id="txt_tpl_label">Ù‚Ø§Ù„Ø¨ Ø§Ù„ÙØ§ØªÙˆØ±Ø©:</label>
            <div style="display:flex; gap:5px; margin: 10px 0 20px 0;">
                <button class="tpl-btn active" onclick="setTpl('modern', this)" id="txt_tpl_modern">Ø¹ØµØ±ÙŠ</button>
                <button class="tpl-btn" onclick="setTpl('classic', this)" id="txt_tpl_classic">ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</button>
            </div>

            <label id="txt_curr_label">Ø§Ù„Ø¹Ù…Ù„Ø©</label>
            <select id="currency" onchange="calculate()" style="width:100%; padding:10px; border-radius:8px; margin-bottom:15px; border:1px solid var(--border-color); background: var(--input-bg); color: var(--v-text); transition: background-color 0.3s, color 0.3s;">
                <option value="SAR">SAR (Ø±ÙŠØ§Ù„)</option>
                <option value="USD">USD (Ø¯ÙˆÙ„Ø§Ø±)</option>
                <option value="AED">AED (Ø¯Ø±Ù‡Ù…)</option>
                <option value="EGP">EGP (Ø¬Ù†ÙŠÙ‡)</option>
            </select>

            <div class="vat-control">
                <label for="vatToggle" style="font-weight: bold;" id="txt_vat_label">Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (15%)</label>
                <label class="switch">
                    <input type="checkbox" id="vatToggle" checked onchange="calculate()">
                    <span class="slider"></span>
                </label>
            </div>
            
            <button class="btn-action btn-download" id="txt_btn_print" onclick="finalizeInvoice()">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© (PDF)</button>
            <button class="btn-action btn-whatsapp" id="txt_btn_wa" onclick="sendWhatsApp()">ğŸ’¬ Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        </aside>

        <main class="editor">
            <article class="card template-modern" id="invoiceCard">
                <div class="invoice-head">
                    <div class="logo-section">
                        <div class="logo-box no-print">
                            <span id="txt_logo_up">Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±</span>
                            <input type="file" accept="image/*" onchange="handleLogo(this)">
                            <div id="printLogo" style="display:none;"></div>
                        </div>
                    </div>
                    <div class="company-name-area">
                        <input type="text" class="company-field" id="compName" oninput="saveComp(this.value)" placeholder="Ø§Ø³Ù… Ù…Ø¤Ø³Ø³ØªÙƒ Ù‡Ù†Ø§...">
                    </div>
                    <div id="qrcode"></div>
                </div>

                <div class="info-grid">
                    <div class="field-group"><label id="txt_inv_no">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</label><input type="text" id="invNum" readonly></div>
                    <div class="field-group"><label id="txt_inv_date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±</label><input type="date" id="invDate"></div>
                    <div class="field-group"><label id="txt_client_label">Ø§Ù„Ø¹Ù…ÙŠÙ„</label><input type="text" id="clientName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„..."></div>
                    <div class="field-group"><label id="txt_tax_no">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ</label><input type="text" id="txt_tax_p" placeholder="300XXXXXXXXXXXX"></div>
                </div>

                <table class="v-table">
                    <thead>
                        <tr><th id="txt_th_desc">Ø§Ù„ÙˆØµÙ</th><th width="80" id="txt_th_qty">Ø§Ù„ÙƒÙ…ÙŠØ©</th><th width="120" id="txt_th_price">Ø§Ù„Ø³Ø¹Ø±</th><th width="120" id="txt_th_total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th><th class="no-print" width="30"></th></tr>
                    </thead>
                    <tbody id="tbody"></tbody>
                </table>
                <button class="no-print" id="txt_btn_add" onclick="addRow()" style="width:100%; padding:10px; cursor:pointer; background:none; border:2px dashed var(--border-color); border-radius:8px; margin-top:10px; color: var(--v-text); transition: color 0.3s;">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯ Ø¬Ø¯ÙŠØ¯</button>

                <div style="display:flex; justify-content:space-between; flex-wrap:wrap; margin-top:40px; gap:30px;">
                    <div style="flex:1; min-width:250px;">
                        <label id="txt_notes_label" style="font-weight:bold; font-size:12px">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©:</label>
                        <textarea id="notesArea" style="width:100%; height:80px; border:1px solid var(--border-color); background: var(--input-bg); color: var(--v-text); border-radius:8px; padding:10px; resize:none; transition: background-color 0.3s, color 0.3s;" placeholder="Ø´Ø±ÙˆØ· Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª..."></textarea>
                        <div id="tafqit" style="font-size:12px; color:var(--v-primary); font-weight:bold; margin-top:10px;"></div>
                    </div>
                    <div style="width:280px; background:var(--bg-light); padding:20px; border-radius:12px; border: 1px solid var(--border-color); transition: background-color 0.3s;">
                        <div style="display:flex; justify-content:space-between; margin-bottom:10px;"><span id="txt_subtotal">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</span><span id="subTotal">0.00</span></div>
                        <div id="vatRow" style="display:flex; justify-content:space-between; margin-bottom:10px;"><span id="txt_vat">Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (15%)</span><span id="vatAmount">0.00</span></div>
                        <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:22px; color:var(--v-primary); border-top:1px solid var(--border-color); padding-top:10px;">
                            <span id="txt_grandtotal">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span><span id="grandTotal">0.00</span>
                        </div>
                    </div>
                </div>

                <div class="sig-container">
                    <canvas id="sig-canvas" width="200" height="80"></canvas>
                    <p style="font-size:10px; color:#94a3b8;" id="txt_sig_label">Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯</p>
                    <button class="no-print" onclick="clearSig()" id="txt_sig_clear" style="border:none; background:none; color:red; cursor:pointer; font-size:10px;">Ù…Ø³Ø­</button>
                </div>
            </article>

            <section class="seo-content no-print">
                <h2 id="txt_seo_h">Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙÙˆØ§ØªÙŠØ± Ø¶Ø±ÙŠØ¨ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠ | VATICA</h2>
                <p id="txt_seo_p">ÙŠÙˆÙØ± Ù…ÙˆÙ‚Ø¹ ÙÙˆØ§ØªÙŠÙƒØ§ Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ø³Ø±Ø¹ Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ© PDF ÙˆØ¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ù„Ø¹Ù…Ù„Ø§Ø¦Ùƒ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø¨Ø³Ù‡ÙˆÙ„Ø© ØªØ§Ù…Ø© ÙˆØ¨Ø£Ù…Ø§Ù† Ø¹Ø§Ù„Ù. Ù†Ø­Ù† Ù†Ù„ØªØ²Ù… Ø¨ØªÙˆÙÙŠØ± Ø£Ø¯ÙˆØ§Øª Ù…Ø§Ù„ÙŠØ© Ø°ÙƒÙŠØ© ØªØ³Ø§Ø¹Ø¯ Ø±ÙˆØ§Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¹Ù„Ù‰ ØªÙ†Ø¸ÙŠÙ… Ø£Ø¹Ù…Ø§Ù„Ù‡Ù… Ø¯ÙˆÙ† ØªÙƒØ§Ù„ÙŠÙ Ø¥Ø¶Ø§ÙÙŠØ©.</p>
            </section>

            <section class="blog-section no-print">
                <h2 id="txt_blog_h">Ù…Ø¯ÙˆÙ†Ø© VATICA: Ù†ØµØ§Ø¦Ø­ Ù…Ø§Ù„ÙŠØ© Ù„Ø±ÙˆØ§Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</h2>
                <div class="blog-posts">
                    <div class="post-card">
                        <h3 id="txt_p1_h">Ø£Ù‡Ù…ÙŠØ© Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© ÙÙŠ 2024</h3>
                        <p id="txt_p1_p">Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ù„ÙŠØ³ Ù…Ø¬Ø±Ø¯ Ø±ÙØ§Ù‡ÙŠØ©ØŒ Ø¨Ù„ Ø¶Ø±ÙˆØ±Ø© Ù„Ù†Ù…Ùˆ Ù…Ø´Ø±ÙˆØ¹Ùƒ. ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ÙƒÙŠÙ ØªØ³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© ÙÙŠ ØªØªØ¨Ø¹ ØªØ¯ÙÙ‚Ø§ØªÙƒ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ø¨Ø¯Ù‚Ø© ÙˆØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ÙˆØ±Ù‚ÙŠØ©.</p>
                        <a href="#" onclick="return false;">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</a>
                    </div>
                    <div class="post-card">
                        <h3 id="txt_p2_h">Ø¯Ù„ÙŠÙ„ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ØµØºÙŠØ±Ø©</h3>
                        <p id="txt_p2_p">ÙÙ‡Ù… Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (VAT) ÙˆÙƒÙŠÙÙŠØ© Ø­Ø³Ø§Ø¨Ù‡Ø§ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙŠØ¬Ù†Ø¨Ùƒ Ø§Ù„ØºØ±Ø§Ù…Ø§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©. ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ØŒ Ù†Ø´Ø±Ø­ Ø¨Ø¨Ø³Ø§Ø·Ø© Ø¢Ù„ÙŠØ© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ø¨Ù†Ø³Ø¨Ø© 15% ÙˆÙƒÙŠÙÙŠØ© ØªÙˆØ«ÙŠÙ‚Ù‡Ø§ ÙÙŠ ÙÙˆØ§ØªÙŠØ±Ùƒ Ø§Ù„Ø±Ø³Ù…ÙŠØ©.</p>
                        <a href="#" onclick="return false;">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</a>
                    </div>
                    <div class="post-card">
                        <h3 id="txt_p3_h">ÙƒÙŠÙÙŠØ© Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ø§Ù‚Ø© Ø«Ù‚Ø© Ù…Ø¹ Ø¹Ù…Ù„Ø§Ø¦Ùƒ</h3>
                        <p id="txt_p3_p">Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµØºÙŠØ±Ø©ØŒ Ù…Ø«Ù„ Ø´ÙƒÙ„ ÙØ§ØªÙˆØ±ØªÙƒ ÙˆØ³Ø±Ø¹Ø© Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§. Ø§ÙƒØªØ´Ù ÙƒÙŠÙ ÙŠØ³Ø§Ù‡Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø§Ù… ÙÙˆØ§ØªÙŠØ± Ù…Ù†Ø¸Ù… ÙÙŠ ØªØ¹Ø²ÙŠØ² ØµÙˆØ±Ø© Ø¹Ù„Ø§Ù…ØªÙƒ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© ÙˆØ¨Ù†Ø§Ø¡ Ø«Ù‚Ø© Ù…Ø³ØªØ¯Ø§Ù…Ø© Ù…Ø¹ Ø¹Ù…Ù„Ø§Ø¦Ùƒ.</p>
                        <a href="#" onclick="return false;">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="modalOverlay" class="modal no-print" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div id="modalBody"></div>
            <button onclick="closeModal()" style="margin-top:20px; width:100%; padding:12px; background:var(--v-blue); color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold;">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <footer class="no-print">
        <div class="footer-links">
            <a onclick="showModal('about')" id="txt_f_about">Ù…Ù† Ù†Ø­Ù†</a> 
            <span style="color:#94a3b8;">|</span> 
            <a onclick="showModal('privacy')" id="txt_f_privacy">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> 
            <span style="color:#94a3b8;">|</span> 
            <a onclick="showModal('terms')" id="txt_f_terms">Ø§Ù„Ø´Ø±ÙˆØ·</a>
        </div>
        <p>Â© 2024 VATICA.io - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø°ÙƒÙŠ</p>
    </footer>

    <script>
        let currentLang = 'ar';
        const websiteUrl = "https://www.vatica.io";
        const dict = {
            ar: {
                langBtn: "English", control: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…", curr_label: "Ø§Ù„Ø¹Ù…Ù„Ø©", btn_print: "ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© (PDF)", btn_wa: "ğŸ’¬ Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨", inv_no: "Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©", inv_date: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±", client_label: "Ø§Ù„Ø¹Ù…ÙŠÙ„", tax_no: "Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ", th_desc: "Ø§Ù„ÙˆØµÙ", th_qty: "Ø§Ù„ÙƒÙ…ÙŠØ©", th_price: "Ø§Ù„Ø³Ø¹Ø±", th_total: "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ", btn_add: "+ Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯ Ø¬Ø¯ÙŠØ¯", subtotal: "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹", grandtotal: "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ", notes_label: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©:", sig_label: "Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯", sig_clear: "Ù…Ø³Ø­", assistant: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ VATICA âœ¨", back: "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ ÙŠØ§ Ø´Ø±ÙŠÙƒ ÙÙŠ ", about: "Ù…Ù† Ù†Ø­Ù†", privacy: "Ø§Ù„Ø®ØµÙˆØµÙŠØ©", terms: "Ø§Ù„Ø´Ø±ÙˆØ·", modern: "Ø¹ØµØ±ÙŠ", classic: "ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ", tpl_label: "Ù‚Ø§Ù„Ø¨ Ø§Ù„ÙØ§ØªÙˆØ±Ø©:", logo_up: "Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±", seo_h: "Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙÙˆØ§ØªÙŠØ± Ø¶Ø±ÙŠØ¨ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠ | VATICA", seo_p: "Ø£Ù†Ø´Ø¦ ÙÙˆØ§ØªÙŠØ±Ùƒ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¬Ø§Ù†Ø§Ù‹ ÙˆØ³Ù‡ÙˆÙ„Ø© ØªØ§Ù…Ø©.", comp_p: "Ø§Ø³Ù… Ù…Ø¤Ø³Ø³ØªÙƒ Ù‡Ù†Ø§...", client_p: "Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„...", notes_p: "Ø´Ø±ÙˆØ· Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª...", vat_label: "Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (15%)", vat: "Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (15%)",
                blog_h: "Ù…Ø¯ÙˆÙ†Ø© VATICA: Ù†ØµØ§Ø¦Ø­ Ù…Ø§Ù„ÙŠØ© Ù„Ø±ÙˆØ§Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„", p1_h: "Ø£Ù‡Ù…ÙŠØ© Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© ÙÙŠ 2024", p1_p: "Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ù„ÙŠØ³ Ù…Ø¬Ø±Ø¯ Ø±ÙØ§Ù‡ÙŠØ©ØŒ Ø¨Ù„ Ø¶Ø±ÙˆØ±Ø© Ù„Ù†Ù…Ùˆ Ù…Ø´Ø±ÙˆØ¹Ùƒ. ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ÙƒÙŠÙ ØªØ³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© ÙÙŠ ØªØªØ¨Ø¹ ØªØ¯ÙÙ‚Ø§ØªÙƒ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ø¨Ø¯Ù‚Ø©.", p2_h: "Ø¯Ù„ÙŠÙ„ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ØµØºÙŠØ±Ø©", p2_p: "ÙÙ‡Ù… Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (VAT) ÙˆÙƒÙŠÙÙŠØ© Ø­Ø³Ø§Ø¨Ù‡Ø§ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙŠØ¬Ù†Ø¨Ùƒ Ø§Ù„ØºØ±Ø§Ù…Ø§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©. Ù†Ø´Ø±Ø­ Ø¨Ø¨Ø³Ø§Ø·Ø© Ø¢Ù„ÙŠØ© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ø¨Ù†Ø³Ø¨Ø© 15%.", p3_h: "ÙƒÙŠÙÙŠØ© Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ø§Ù‚Ø© Ø«Ù‚Ø© Ù…Ø¹ Ø¹Ù…Ù„Ø§Ø¦Ùƒ", p3_p: "Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµØºÙŠØ±Ø©ØŒ Ù…Ø«Ù„ Ø´ÙƒÙ„ ÙØ§ØªÙˆØ±ØªÙƒ ÙˆØ³Ø±Ø¹Ø© Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§. Ø§ÙƒØªØ´Ù ÙƒÙŠÙ ÙŠØ³Ø§Ù‡Ù… Ù†Ø¸Ø§Ù… ÙÙˆØ§ØªÙŠØ± Ù…Ù†Ø¸Ù… ÙÙŠ ØªØ¹Ø²ÙŠØ² Ø¹Ù„Ø§Ù…ØªÙƒ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©."
            },
            en: {
                langBtn: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", control: "Control Panel", curr_label: "Currency", btn_print: "ğŸ“¥ Download PDF", btn_wa: "ğŸ’¬ Send WhatsApp", inv_no: "Invoice No.", inv_date: "Date", client_label: "Client", tax_no: "Tax ID", th_desc: "Description", th_qty: "Qty", th_price: "Price", th_total: "Total", btn_add: "+ Add Item", subtotal: "Subtotal", grandtotal: "Grand Total", notes_label: "Notes:", sig_label: "Authorized Signature", sig_clear: "Clear", assistant: "Welcome to VATICA âœ¨", back: "Welcome back partner at ", about: "About Us", privacy: "Privacy Policy", terms: "Terms", modern: "Modern", classic: "Classic", tpl_label: "Templates:", logo_up: "Upload Logo", seo_h: "Free Invoice Generator | VATICA", seo_p: "Create professional invoices easily and for free.", comp_p: "Your Company Name...", client_p: "Client name...", notes_p: "Payment terms and notes...", vat_label: "Value Added Tax (15%)", vat: "VAT (15%)",
                blog_h: "VATICA Blog: Financial Tips for Entrepreneurs", p1_h: "Importance of E-Invoicing in 2024", p1_p: "Digital transformation is a necessity for growth. Learn how e-invoices help you track cash flows accurately and avoid human errors.", p2_h: "VAT Guide for Small Businesses", p2_p: "Understanding VAT and calculating it correctly avoids legal penalties. We explain the 15% tax mechanism and documentation.", p3_h: "Building Trust with Your Clients", p3_p: "Professionalism starts with small details like invoice design. Discover how an organized system enhances your brand image."
            }
        };

        const modalContents = {
            ar: { 
                about: `<h2>Ù…Ù† Ù†Ø­Ù†</h2>
                        <p>VATICA Ù‡ÙŠ Ù…Ù†ØµØ© ØªÙ‚Ù†ÙŠØ© Ø±Ø§Ø¦Ø¯Ø© ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ ØªÙ…ÙƒÙŠÙ† Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ØµØºÙŠØ±Ø© ÙˆØ§Ù„Ù…ØªÙˆØ³Ø·Ø© ÙˆØ±ÙˆØ§Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù…Ù† Ø®Ù„Ø§Ù„ ØªÙˆÙÙŠØ± Ø£Ø¯ÙˆØ§Øª Ù…Ø§Ù„ÙŠØ© Ø°ÙƒÙŠØ© ÙˆÙ…Ø¬Ø§Ù†ÙŠØ© ØªÙ…Ø§Ù…Ø§Ù‹.</p>
                        <p>Ù†Ø­Ù† Ù†Ø¤Ù…Ù† Ø¨Ø£Ù† Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹ØŒ ÙˆÙ„Ø°Ù„Ùƒ Ù‚Ù…Ù†Ø§ Ø¨ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ù„ÙŠÙƒÙˆÙ† Ø§Ù„Ø£Ø³Ø±Ø¹ ÙˆØ§Ù„Ø£Ø³Ù‡Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ© Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆØ§Ù„Ø¯ÙˆÙ„ÙŠØ©.</p>
                        <ul>
                            <li>Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ø®Ø¨Ø±Ø© Ù…Ø­Ø§Ø³Ø¨ÙŠØ©.</li>
                            <li>Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© ÙˆØ§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ© (QR).</li>
                            <li>Ø®ØµÙˆØµÙŠØ© ØªØ§Ù…Ø©Ø› Ø­ÙŠØ« ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¯Ø§Ø®Ù„ Ù…ØªØµÙØ­Ùƒ ÙÙ‚Ø·.</li>
                        </ul>`,
                privacy: `<h2>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
                        <p>ÙÙŠ VATICAØŒ Ù†Ø¶Ø¹ Ø®ØµÙˆØµÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¹Ù„Ù‰ Ø±Ø£Ø³ Ø£ÙˆÙ„ÙˆÙŠØ§ØªÙ†Ø§. Ø¥Ù„ÙŠÙƒ ÙƒÙŠÙ Ù†ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ:</p>
                        <ul>
                            <li><strong>ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</strong> Ù†Ø­Ù† Ù„Ø§ Ù†Ù‚ÙˆÙ… Ø¨ØªØ®Ø²ÙŠÙ† Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§ØµØ© Ø¨ÙÙˆØ§ØªÙŠØ±Ùƒ Ø£Ùˆ Ø¹Ù…Ù„Ø§Ø¦Ùƒ Ø¹Ù„Ù‰ Ø®ÙˆØ§Ø¯Ù…Ù†Ø§. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ­ÙØ¸ Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ù…ØªØµÙØ­Ùƒ (LocalStorage).</li>
                            <li><strong>Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø·:</strong> Ù†Ø³ØªØ®Ø¯Ù… Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙ„Ø£ØºØ±Ø§Ø¶ Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ø¹Ø¨Ø± Google AdSense.</li>
                            <li><strong>Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</strong> Ù„Ø§ ÙŠØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ© Ù…Ø¹ Ø£Ø·Ø±Ø§Ù Ø«Ø§Ù„Ø«Ø©ØŒ Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù…Ø§ ØªØªØ·Ù„Ø¨Ù‡ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®Ø¯Ù…Ø©.</li>
                        </ul>`,
                terms: `<h2>Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h2>
                        <p>Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ù„Ù…ÙˆÙ‚Ø¹ VATICAØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
                        <ul>
                            <li><strong>Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©:</strong> ÙŠØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø© "ÙƒÙ…Ø§ Ù‡ÙŠ" Ø¯ÙˆÙ† Ø£ÙŠ Ø¶Ù…Ø§Ù†Ø§Øª ØµØ±ÙŠØ­Ø© Ø£Ùˆ Ø¶Ù…Ù†ÙŠØ©.</li>
                            <li><strong>Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©:</strong> Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø¹Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø© ÙÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆÙ…Ø¯Ù‰ ØªÙˆØ§ÙÙ‚Ù‡Ø§ Ù…Ø¹ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ© ÙÙŠ Ø¨Ù„Ø¯Ù‡.</li>
                            <li><strong>Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø§Ø¯Ù„:</strong> ÙŠÙÙ…Ù†Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø£ÙŠ Ø£Ù†Ø´Ø·Ø© ØºÙŠØ± Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ø£Ùˆ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¥Ø¶Ø±Ø§Ø± Ø¨Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Ù„Ù„Ù…Ù†ØµØ©.</li>
                        </ul>`
            },
            en: { 
                about: `<h2>About Us</h2>
                        <p>VATICA is a leading tech platform aimed at empowering SMEs and entrepreneurs in the Arab world by providing smart, free financial tools.</p>
                        <p>We believe technology should be accessible to everyone, which is why we developed this system to be the fastest and easiest way to create tax-compliant invoices.</p>`,
                privacy: `<h2>Privacy Policy</h2>
                        <p>At VATICA, your data privacy is our top priority. Here is how we handle your information:</p>
                        <ul>
                            <li><strong>Data Storage:</strong> We do not store any invoice or client data on our servers. All data is saved locally in your browser.</li>
                            <li><strong>Cookies:</strong> We use cookies to enhance user experience and for advertising purposes via Google AdSense.</li>
                        </ul>`,
                terms: `<h2>Terms of Use</h2>
                        <p>By using VATICA, you agree to the following terms:</p>
                        <ul>
                            <li><strong>Free Service:</strong> This service is provided "as is" without any warranties.</li>
                            <li><strong>Legal Responsibility:</strong> The user is solely responsible for the accuracy of the data entered.</li>
                        </ul>`
            }
        };

        function toggleLanguage() {
            currentLang = (currentLang === 'ar') ? 'en' : 'ar';
            document.getElementById('htmlRoot').dir = (currentLang === 'ar') ? 'rtl' : 'ltr';
            document.getElementById('langBtn').innerText = dict[currentLang].langBtn;
            
            Object.keys(dict[currentLang]).forEach(key => {
                const el = document.getElementById('txt_' + key);
                if (el) el.innerText = dict[currentLang][key];
                const fel = document.getElementById('txt_f_' + key);
                if (fel) fel.innerText = dict[currentLang][key];
            });

            document.getElementById('compName').placeholder = dict[currentLang].comp_p;
            document.getElementById('clientName').placeholder = dict[currentLang].client_p;
            document.getElementById('notesArea').placeholder = dict[currentLang].notes_p;
            updateAssistant(localStorage.getItem('v_comp_name'));
            calculate();
        }

        function toggleDarkMode() { document.body.classList.toggle('dark-mode'); }

        const canvas = document.getElementById('sig-canvas');
        const ctx = canvas.getContext('2d');
        let drawing = false;
        if (canvas) {
            const getPos = (e) => {
                const rect = canvas.getBoundingClientRect();
                const cx = e.touches ? e.touches[0].clientX : e.clientX;
                const cy = e.touches ? e.touches[0].clientY : e.clientY;
                return { x: cx - rect.left, y: cy - rect.top };
            };
            const start = (e) => { drawing = true; const p = getPos(e); ctx.beginPath(); ctx.moveTo(p.x, p.y); };
            const move = (e) => { if(!drawing) return; const p = getPos(e); ctx.lineTo(p.x, p.y); ctx.stroke(); };
            const stop = () => drawing = false;
            canvas.addEventListener('mousedown', start); canvas.addEventListener('mousemove', move); window.addEventListener('mouseup', stop);
            canvas.addEventListener('touchstart', (e) => { e.preventDefault(); start(e); });
            canvas.addEventListener('touchmove', (e) => { e.preventDefault(); move(e); });
            canvas.addEventListener('touchend', stop);
        }
        function clearSig() { ctx.clearRect(0, 0, canvas.width, canvas.height); }

        function sendWhatsApp() {
            const client = document.getElementById('clientName').value.trim();
            const total = document.getElementById('grandTotal').innerText;
            const invNo = document.getElementById('invNum').value;
            const compName = document.getElementById('compName').value.trim() || "VATICA";
            if(!client) return alert(dict[currentLang].client_p);
            const msg = `*ÙØ§ØªÙˆØ±Ø© Ø¶Ø±ÙŠØ¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† ${compName}*\n\n*Ù…ÙˆØ¬Ù‡Ø© Ø¥Ù„Ù‰:* ${client}\n*Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©:* ${invNo}\n*Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${total}\n\nÙ„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨ØµÙŠØºØ© PDF: ${websiteUrl}\n\nØ´ÙƒØ±Ø§Ù‹ Ù„ØªØ¹Ø§Ù…Ù„ÙƒÙ… Ù…Ø¹Ù†Ø§.\nØ¥ØµØ¯Ø§Ø± Ø¹Ø¨Ø± VATICA.io`;
            window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function handleLogo(input) {
            const reader = new FileReader();
            reader.onload = (e) => { localStorage.setItem('v_logo', e.target.result); renderLogo(e.target.result); };
            reader.readAsDataURL(input.files[0]);
        }
        function renderLogo(d) {
            document.getElementById('txt_logo_up').style.display = 'none';
            const printLogo = document.getElementById('printLogo');
            printLogo.innerHTML = `<img src="${d}" style="max-width:100%; max-height:100%; object-fit:contain;">`;
            printLogo.style.display = 'block';
        }
        function calculate() {
            let sub = 0; 
            const curr = document.getElementById("currency").value;
            const vatEnabled = document.getElementById("vatToggle").checked;
            const vatRow = document.getElementById("vatRow");
            document.querySelectorAll("#tbody tr").forEach(row => {
                const q = Math.max(0, parseFloat(row.querySelector(".qty").value) || 0);
                const p = Math.max(0, parseFloat(row.querySelector(".price").value) || 0);
                row.querySelector(".qty").value = q;
                row.querySelector(".price").value = p.toFixed(2);
                row.querySelector(".line-total").innerText = (q * p).toFixed(2);
                sub += (q * p);
            });
            let total = sub;
            let vatAmount = 0;
            const vatRate = 0.15;
            if (vatEnabled) {
                vatAmount = sub * vatRate;
                total = sub + vatAmount;
                vatRow.style.display = 'flex';
            } else { vatRow.style.display = 'none'; }
            document.getElementById("subTotal").innerText = sub.toFixed(2) + " " + curr;
            document.getElementById("vatAmount").innerText = vatAmount.toFixed(2) + " " + curr;
            document.getElementById("grandTotal").innerText = total.toFixed(2) + " " + curr;
            document.getElementById("tafqit").innerText = (currentLang === 'ar' ? "Ø§Ù„Ù…Ø¨Ù„Øº ÙƒØªØ§Ø¨Ø©: " : "In Words: ") + total.toFixed(2) + " " + curr;
            updateQR(total, curr);
        }
        function updateQR(t, c) {
            const qr = document.getElementById("qrcode"); qr.innerHTML = "";
            if (typeof QRCode !== 'undefined') { new QRCode(qr, { text: "VATICA: " + t.toFixed(2) + " " + c, width: 80, height: 80 }); }
        }
        function addRow() {
            const tbody = document.getElementById("tbody");
            const row = document.createElement("tr");
            row.innerHTML = `
                <td><input type="text" placeholder="..."></td>
                <td><input type="number" class="qty" value="1" oninput="calculate()"></td>
                <td><input type="number" class="price" value="0.00" oninput="calculate()"></td>
                <td style="font-weight:bold" class="line-total">0.00</td>
                <td class="no-print" style="width: 30px; padding: 0;"><button onclick="this.closest('tr').remove(); calculate();" style="background:none; border:none; color:red; cursor:pointer; font-size:18px;">&times;</button></td>
            `;
            tbody.appendChild(row); calculate();
        }
        function setTpl(t, b) {
            document.getElementById('invoiceCard').className = 'card template-' + t;
            document.querySelectorAll('.tpl-btn').forEach(btn => btn.classList.remove('active'));
            b.classList.add('active');
        }
        function updateAssistant(name) {
            const bar = document.getElementById('txt_assistant');
            bar.innerText = (name && name.trim() !== "") ? (dict[currentLang].back + name + "! ğŸš€") : dict[currentLang].assistant;
        }
        function saveComp(v) { localStorage.setItem('v_comp_name', v); updateAssistant(v); }
        function showModal(t) { document.getElementById('modalBody').innerHTML = modalContents[currentLang][t]; document.getElementById('modalOverlay').style.display = 'flex'; }
        function closeModal() { document.getElementById('modalOverlay').style.display = 'none'; }
        function finalizeInvoice() { 
            let currentInvNum = parseInt(document.getElementById('invNum').value);
            if (!isNaN(currentInvNum)) { localStorage.setItem('v_count', currentInvNum + 1); }
            window.print(); 
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('v_comp_name'); if(saved) { document.getElementById('compName').value = saved; updateAssistant(saved); }
            const logo = localStorage.getItem('v_logo'); if(logo) renderLogo(logo);
            document.getElementById('invDate').valueAsDate = new Date();
            document.getElementById('invNum').value = localStorage.getItem('v_count') || 1001;
            if (document.querySelectorAll("#tbody tr").length === 0) { addRow(); }
            currentLang = 'en';
            toggleLanguage();
        });
    </script>
</body>
</html>
